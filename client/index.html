<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <title>RSS Reader - ChemU</title>
</head>
<body style="
  background: #485563;
  background: -webkit-linear-gradient(to right, #485563, #29323c);
  background: linear-gradient(to right, #485563, #29323c);
  ">

    <div style="background-color: rgb(31, 41, 55);  width: 100%">
        <a href="https://chemu.de/"><img src="assets/logo.png" style="max-width: 240px; max-height: 120px;"></a>
    </div>
    <div class="container pt-3" id="app">
        <div style="font-family: 'Bree Serif'">
            <h1 class="fw-bold text-white">RSS Reader</h1>
            <div class="btn-group btn-group-lg w-100 mb-3" role="group" aria-label="...">
                <button type="button" class="btn btn-secondary w-100"
                        @click="activeButton = 'chemistry'; updateInfScr()" :class="{active: activeButton === 'chemistry'}">
                    Chemistry and Biochemistry</button>
                <button type="button" class="btn btn-secondary w-100"
                        @click="activeButton = 'pharma'; updateInfScr()" :class="{active: activeButton === 'pharma'}">
                    Pharmaceutical sciences</button>
            </div>
        </div>

        <div v-if="loading">
            <loader />
        </div>

        <div v-else-if="activeButton === 'chemistry' && feed.CHEM_LIST !== undefined && feed.CHEM_LIST.length">
            <div class="card mb-3 bg-light" v-for="item in chem_list" v-if="item.description !== null">
                <div class="card-header">
                    <span class="text-secondary fw-bold"> {{ item.hostname }} </span>
                </div>
                <img v-if="item.image" :src="item.image" class="card-img-top p-3 justify-content-center m-auto" alt="Image" style="width: 40%">
                <img v-else :src="item.image2" class="card-img-top p-3 justify-content-center m-auto" alt="Image" style="width: 40%">
                <div class="card-body">
                    <h5 class="card-title">{{ item.title }}</h5>
                    <p class="card-text">{{ item.description }}</p>
                    <a class="btn btn-outline-primary" :href="item.link">Read the full article</a>
                </div>
                <div class="card-footer text-muted">{{ item.date }}</div>
            </div>
        </div>

        <div v-else-if="activeButton === 'pharma' && feed.PHARMA_LIST !== undefined && feed.PHARMA_LIST.length">
            <div class="card mb-3 bg-light" v-for="item in pharma_list" v-if="item.description !== null">
                <div class="card-header" v-if="item.hostname">
                    <span class="text-secondary fw-bold"> {{ item.hostname }} </span>
                </div>
                <img v-if="item.image" :src="item.image" class="card-img-top p-3 justify-content-center m-auto" alt="Image" style="width: 40%">
                <img v-else :src="item.image2" class="card-img-top p-3 justify-content-center m-auto" alt="Image" style="width: 40%">
                <div class="card-body">
                    <h5 class="card-title">{{ item.title }}</h5>
                    <p class="card-text">{{ item.description }}</p>
                    <a class="btn btn-outline-primary" :href="item.link">Read the full article</a>
                </div>
                <div class="card-footer text-muted">{{ item.date }}</div>
            </div>
        </div>

        <p v-else>Feed List is empty</p>
    </div>

<script type="module" src="frontend.js"></script>
</body>
</html>